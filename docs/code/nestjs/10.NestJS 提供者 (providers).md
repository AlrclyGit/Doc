# 提供者 (providers)

```typescript
const afClassService = {
  //自定义名称
  provide: 'afClass',
  useClass: IndexService,
}
const afValueService = {
  // 自定义注入值
  provide: 'afValue',
  useValue: ['a', 'b', 'c'],
}
const afFactoryService = {
  // 工厂模式
  provide: 'afFactory',
  inject: [ConfigService],
  useFactory: (configService: ConfigService) => {
    const env = configService.get('NODE_ENV')
    return env === 'development' ? new IndexService() : new AdminService()
  },
}
```

## env 配置

```shell
npm install nestjs/config
```

```typescript
import { ConfigModule, ConfigService } from '@nestjs/config'
// 在注册之前使用
const afFactoryS = {
  provide: 'afFactory',
  inject: [ConfigService],
  useFactory: (configService: ConfigService) => {
    const env = configService.get('NODE_ENV')
    return env === 'development' ? new IndexService() : new AdminService()
  },
}
// 在注册之后使用
const configM = ConfigModule.forRoot()
process.env.PORT
```
