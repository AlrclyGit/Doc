# 自定义装饰器

```shell
nest g d Login
```

```typescript
import { createParamDecorator, ExecutionContext, SetMetadata } from '@nestjs/common'

export const Login = (...args: string[]) => SetMetadata('login', args)

export const ReqUrl = createParamDecorator((data: string, ctx: ExecutionContext) => {
  const req = ctx.switchToHttp().getRequest<Request>()
  return req.url
})
```

```typescript
import { Controller, Get} from '@nestjs/common';
import { Login } from './login.decorator'

@Controller('cats')
export class CatsController {
  @Get()
  @Login('admin')
  findAll() {
    return 'All cats';
  }
}
```
